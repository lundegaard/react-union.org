---
title: "Configuration"
order: 6
---

## Table of Contents

* [devServer](#devserver)
* [proxy](#proxy)
* [outputMapper](#outputmapper)
* [clean](#clean)
* [apps](#apps)
* [templateFilename](#templatefilename)
* [generateTemplate](#generatetemplate)
* [generateVendorBundle](#generatevendorbundle)
* [vendorBlacklist](#vendorblacklist)
* [mergeWebpackConfig](#mergewebpackconfig)
* [asyncSuffix](#asyncsuffix)
* [copyToPublicIgnore](#copytopublicignore)
* [workspaces](#workspaces)
* [uglifyOptions](#uglifyoptions)

Place the file `union.config.js` into the root of your project if you want to configure react-union-scripts.

Configuration file can export either:

- static JSON object or
- function.

To the function is passed object that describes flags derived from calling our CLI API:

```js
// example of dynamic union.config.js
module.exports = ({
	target, // custom value
	script, // build, start or test
	app,
	debug,
	proxy,
	verbose,
	noHmr,
	analyze,
}) => ({
	outputMapper: target === 'liferay' ? { js: 'widgets/js' } : {},
});
```

Resulting configuration can redefine following properties.

## __devServer__

`devServer.port` : _number_

Port of proxy server. Defaults to `3300`.

`devServer.historyApiFallback` : _boolean_

If `true`, then add [connect-history-api-fallback](https://github.com/bripkens/connect-history-api-fallback) middleware. Defaults to `true`.

## __proxy__

`proxy.port` : _number_

Port of proxy server. Defaults to `3300`.

`proxy.target` : _string_

Target of proxy

`proxy.publicPath` : _string_

Public path of the application. See [webpack](https://github.com/webpack/docs/wiki/configuration#outputpublicpath). Required if you want to run proxy.

## __outputMapper__

Output mapper makes possible further customization of the folder structure that is produced by the build. All paths are relative to the `apps[].paths.build` directory.

`outputMapper.js` : _string_

Path of JavaScript assets. Defaults to `static/js`.

`outputMapper.media` : _string_

Path of media assets. Defaults to `static/media`.

## __clean__

`outputMapper.paths` : _string_

Paths to clean before build. By default equals to `[paths.build]`

`outputMapper.oprions` : _object_

See [clean-webpack-plugin](https://github.com/johnagan/clean-webpack-plugin)

## __apps__

Array of configurations for your applications.
Every configuration is merged with above properties. You can rewrite them separately for every application.

For example in the configuration:

```js
module.exports = {
	proxy: { port: 3333 },
	apps: [
		{
			name: 'MyFirstApp',
			proxy: { port: 5000 },
		},
		{ name: 'MySecondApp' },
	],
};
```

MyFirstApp will use proxy port `5000` and MySecondApp will use common value `3333`.

`apps[].name` : _string_

Name of your application that is used for both:
- finding HTML template in `./public` directory and
- naming your bundle file.
  Required.

`apps[].paths.build` : _string_

Path to the build directory. Defaults to `<project root>/build/[ApplicationName]`.

`apps[].paths.public` : _string_

Path to public directory. Directory should contain:
- static assets, that will be copied to the build directory
- a HTML template that is named according to `templateFilename` property.
  Defaults to `<project root>/public/[ApplicationName]`.

`apps[].paths.index` : _string_

Path to entry file of a the application. Defaults to `<project root>/apps/[ApplicationName]`.

## __templateFilename__

`templateFilename` : _string_

 Name of the HTML template. Defaults to `index.ejs`.

## __generateTemplate__

`generateTemplate` : _boolean_

If true, generates template by using html-webpack-plugin. Defaults to `true`.

## __generateVendorBundle__

`generateVendorBundle` : _boolean_

If true, generates separate vendor chunk. Vendors are all dependencies from your `package.json`. Defaults to `true`.

## __vendorBlacklist__

'vendorBlackList' : _array[string]_

List of dependencies that should not be included within vendor chunk. Defaults to `[]`.

## __mergeWebpackConfig__

`mergeWebpackConfig` : _function_

If specified, `webpack.config` generated by `react-union-scripts` is passed as the argument. Function must return new valid webpack config.

## __asyncSuffix__

['asyncSuffix']\(string, array[string], RegExp) Suffix for files to load chunks async. Defaults to `widget`.

## __copyToPublicIgnore__

`copyToPublicIgnore` : _RegExp_

Pattern for files that should not be copied from `public` folder in build process. Defaults to `/\.ejs$/`.

## __workspaces__

Workspaces can rewrite default patterns for monorepo matching.

`workspaces.widgetPattern` : _string, array[string], RegExp_

Pattern for the widget packages. Defaults to `union-widget`.

`workspaces.appPattern` : _string, array[string], RegExp_

Latter for the app packages. Defaults to `union-app`.

## __uglifyOptions__

Options for configuration of minifier engine (currently [uglify-es](https://www.npmjs.com/package/uglify-es)).

Supported options:

- [`cache`](https://webpack.js.org/plugins/uglifyjs-webpack-plugin/#cache)
- [`parallel`](https://webpack.js.org/plugins/uglifyjs-webpack-plugin/#parallel)
- [`sourceMap`](https://webpack.js.org/plugins/uglifyjs-webpack-plugin/#sourcemap)
